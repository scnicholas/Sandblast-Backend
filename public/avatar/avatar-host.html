<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Nyx Avatar Host</title>

<link rel="stylesheet" href="./avatar.css?v=9110" />

<style>
html,body{height:100%}
body{margin:0;background:#000;overflow:hidden}

/* ===== HERO STAGE (WIDGET-CALIBRATED) ===== */
:root{
  --nyx-hero-abs:url("https://sandblast-backend.onrender.com/avatar/assets/nyx-hero.png");
  --nyx-hero-url:var(--nyx-hero-abs);

  /* üî• FIXED FOR 600px PANEL HEIGHT */
  --nyx-hero-pos-x:50%;
  --nyx-hero-pos-y:18%;
  --nyx-hero-scale:118%;

  --nyx-hero-dim:.10;
}

#nyxStage{
  position:absolute;
  inset:0;
  background-color:#000;
  background-image:var(--nyx-hero-url);
  background-repeat:no-repeat;

  /* proper framing */
  background-size:var(--nyx-hero-scale) auto;
  background-position:var(--nyx-hero-pos-x) var(--nyx-hero-pos-y);

  transition:background-position .2s ease,background-size .2s ease;
  filter:saturate(1.02);
}

#nyxStage::after{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  opacity:var(--nyx-hero-dim);
  background:
    radial-gradient(120% 100% at 50% 38%, rgba(0,0,0,0) 60%, rgba(0,0,0,.45) 100%),
    linear-gradient(180deg, rgba(0,0,0,.05), rgba(0,0,0,.25));
}

/* ===== Overlay UI ===== */
#nyxOverlay{
  position:absolute;
  inset:0;
  display:flex;
  flex-direction:column;
  justify-content:flex-end;
  padding:16px;
  pointer-events:none;
  z-index:10;
}

.bubble,.bubble *{pointer-events:auto}

.bubble{
  border-radius:18px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.38);
  backdrop-filter:blur(10px);
  padding:14px;
  box-shadow:0 18px 60px rgba(0,0,0,.55);
}

.bubble-text{
  color:rgba(255,255,255,.92);
  font:16px system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
}

.bubble-actions{
  display:flex;
  gap:10px;
  flex-wrap:wrap;
  margin-top:12px;
}

.action-pill{
  font:12px system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  padding:8px 10px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.30);
  color:rgba(255,255,255,.88);
  cursor:pointer;
  user-select:none;
}

.nyx-controls{
  display:flex;
  gap:8px;
  margin-top:10px;
}

.nyx-mini{
  font:12px system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  padding:8px 10px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.28);
  color:#fff;
  cursor:pointer;
}

.nyx-row{
  display:flex;
  gap:10px;
  margin-top:12px;
}

#nyxInput{
  flex:1;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.25);
  color:#fff;
  padding:12px 14px;
  outline:none;
}

#nyxSend{
  border-radius:14px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.08);
  color:#fff;
  padding:12px 16px;
  cursor:pointer;
}

#nyxDiag{
  margin-top:8px;
  font:12px ui-monospace,Menlo,Consolas,monospace;
  color:rgba(255,255,255,.55);
}
</style>
</head>

<body>
<div id="nyxStage"></div>

<div id="nyxOverlay">
  <div class="bubble">
    <div class="bubble-text" id="nyxBubbleText">
      Hi‚Ä¶ I‚Äôm Nyx. How are you today?
    </div>

    <div class="bubble-actions">
      <div class="action-pill" data-chip="general">General</div>
      <div class="action-pill" data-chip="music">Music</div>
      <div class="action-pill" data-chip="roku">Roku</div>
      <div class="action-pill" data-chip="schedule">Schedule‚Üó</div>
      <div class="action-pill" data-chip="radio">Radio</div>
      <div class="action-pill" data-chip="news-canada">News Canada‚Üó</div>
    </div>

    <div class="nyx-controls">
      <button class="nyx-mini" id="nyxMic">üéôÔ∏è</button>
      <button class="nyx-mini" id="nyxVoiceToggle">üîä Voice</button>
    </div>

    <div class="nyx-row">
      <input id="nyxInput" type="text" placeholder="Type a message‚Ä¶" />
      <button id="nyxSend">Send</button>
    </div>

    <div id="nyxDiag">HOST v9110 ‚Ä¢ ready</div>
  </div>
</div>

<script>
(function(){
  window.parent && window.parent.postMessage({type:"NYX_READY"}, "*");
})();
</script>

</body>
</html>
